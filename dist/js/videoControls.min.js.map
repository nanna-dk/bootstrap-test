{"version":3,"sources":["videoControls.js"],"names":["video","playPauseBtn","muteBtn","volumeBtn","progressBar","fullScreen","initialisevideo","document","getElementById","controls","addEventListener","updateProgressBar","changeButtonType","this","pause","togglePlayPause","paused","ended","play","stopPlayer","currentTime","setVolume","val","muted","vol","volume","setAttribute","toggleMute","title","replayMedia","resetPlayer","percentage","Math","floor","duration","value","style","width","querySelector","innerHTML","btn","upperCaseFirst","className","span","classList","remove","add","loadVideo","i","arguments","length","file","split","ext","canPlayVideo","src","load","canPlayType","fullScreenEnabled","fullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","webkitSupportsFullscreen","webkitFullscreenEnabled","createElement","webkitRequestFullScreen","disabled","isFullScreen","webkitIsFullScreen","mozFullScreen","msFullscreenElement","fullscreenElement","setFullscreenData","state","handleFullscreen","exitFullscreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","requestFullscreen","mozRequestFullScreen","msRequestFullscreen","str","charAt","toUpperCase","substring"],"mappings":"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","file":"videoControls.min.js","sourcesContent":["/* Media Player controls using HTML5's Media API\n *\n * Modified for Bootstrap by Nanna Ellegaard 2019\n */\n\nvar video,\n  playPauseBtn,\n  muteBtn,\n  volumeBtn,\n  progressBar,\n  fullScreen,\n  updateProgressBar,\n  changeButtonType,\n  canPlayVideo,\n  resetPlayer,\n  upperCaseFirst;\n\nvar initialisevideo = function () {\n  // Get a handle to the player\n  video = document.getElementById('video');\n\n  // Get handles to each of the buttons and required elements\n  playPauseBtn = document.getElementById('play-pause-button');\n  muteBtn = document.getElementById('mute-button');\n  volumeBtn = document.getElementById('vol-control');\n  progressBar = document.getElementById('progress-bar');\n  fullScreen = document.getElementById('fullscreen-button');\n\n  // Hide the browser's default controls\n  video.controls = false;\n\n  // Add a listener for the timeupdate event so we can update the progress bar\n  video.addEventListener('timeupdate', updateProgressBar, false);\n\n  // Add a listener for the play and pause events so the buttons state can be updated\n  video.addEventListener('play', function () {\n    // Change the button to be a pause button\n    changeButtonType(playPauseBtn, 'pause');\n  }, false);\n\n  video.addEventListener('pause', function () {\n    // Change the button to be a play button\n    changeButtonType(playPauseBtn, 'play');\n  }, false);\n\n  // video.addEventListener('volumechange', function () {\n  //   // Update the button to be mute/unmute\n  //   if (video.muted) {\n  //     changeButtonType(muteBtn, 'volume-up');\n  //   } else {\n  //     changeButtonType(muteBtn, 'volume-off');\n  //   }\n  // }, false);\n\n  video.addEventListener('ended', function () {\n    this.pause();\n  }, false);\n};\n\nvar togglePlayPause = function () {\n  // If the video is currently paused or has ended\n  if (video.paused || video.ended) {\n    // Change the button to be a pause button\n    changeButtonType(playPauseBtn, 'pause');\n    // Play the media\n    video.play();\n  }\n  // Otherwise it must currently be playing\n  else {\n    // Change the button to be a play button\n    changeButtonType(playPauseBtn, 'play');\n    // Pause the media\n    video.pause();\n  }\n};\n\n// Stop the current media from playing, and return it to the start position\nvar stopPlayer = function () {\n  video.pause();\n  video.currentTime = 0;\n};\n\n// Changes the volume on the media player using +/- buttons\n// var changeVolume = function (direction) {\n//   if (direction === '+') video.volume += video.volume == 1 ? 0 : 0.1;\n//   else video.volume -= (video.volume == 0 ? 0 : 0.1);\n//   video.volume = parseFloat(video.volume).toFixed(1);\n// };\n\n// Changes the volume on the media player using a slider\nvar setVolume = function (val) {\n  video.muted = false;\n  var vol = val / 100;\n  video.volume = vol;\n  volumeBtn.setAttribute(\"aria-valuenow\", vol);\n};\n\n// Toggles the media player's mute and unmute status\nvar toggleMute = function () {\n  if (video.muted) {\n    // Change the cutton to be a mute button\n    changeButtonType(muteBtn, 'volume-off');\n    muteBtn.title = 'Unmuted';\n    // Unmute the media player\n    video.muted = false;\n  } else {\n    // Change the button to be an unmute button\n    changeButtonType(muteBtn, 'volume-up');\n    muteBtn.title = 'Muted';\n    // Mute the media player\n    video.muted = true;\n  }\n};\n\n// Replays the media currently loaded in the player\nvar replayMedia = function () {\n  resetPlayer();\n  video.play();\n};\n\n// Update the progress bar\nvar updateProgressBar = function () {\n  // Work out how much of the media has played via the duration and currentTime parameters\n  var percentage = Math.floor((100 / video.duration) * video.currentTime);\n  // Update the progress bar's values\n  progressBar.value = percentage;\n  progressBar.style.width = percentage + '%';\n  progressBar.setAttribute(\"aria-valuenow\", percentage);\n  progressBar.title = percentage + '%';\n  var sronly = progressBar.querySelector('.sr-only');\n  sronly.innerHTML = percentage + \"% afspillet\";\n};\n\n// Updates a button's title, innerHTML and CSS class to a certain value\nvar changeButtonType = function (btn, value) {\n  btn.title = upperCaseFirst(value);\n  btn.className = value;\n  btn.setAttribute(\"aria-label\", upperCaseFirst(value));\n  // All available glyphicons\n  var span = btn.querySelector('.glyphicon');\n  span.classList.remove(\"glyphicon-volume-off\", \"glyphicon-volume-up\", \"glyphicon-play\", \"glyphicon-pause\");\n  span.classList.add(\"glyphicon-\" + value);\n};\n\n// Loads a video item into the media player\nvar loadVideo = function () {\n  for (var i = 0; i < arguments.length; i++) {\n    var file = arguments[i].split('.');\n    var ext = file[file.length - 1];\n    // Check if this media can be played\n    if (canPlayVideo(ext)) {\n      // Reset the player, change the source file and load it\n      resetPlayer();\n      video.src = arguments[i];\n      video.load();\n      break;\n    }\n  }\n};\n\n// Checks if the browser can play this particular type of file or not\nvar canPlayVideo = function (ext) {\n  var ableToPlay = video.canPlayType('video/' + ext);\n  if (ableToPlay == '') return false;\n  else return true;\n};\n\n// Resets the media player\nvar resetPlayer = function () {\n  // Reset the progress bar to 0\n  progressBar.value = 0;\n  // Move the media back to the start\n  video.currentTime = 0;\n  // Ensure that the play pause button is set as 'play'\n  changeButtonType(playPauseBtn, 'play');\n};\n\n// Toggle full screen\nvar fullScreenEnabled = !!(document.fullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled || document.webkitSupportsFullscreen || document.webkitFullscreenEnabled || document.createElement('video').webkitRequestFullScreen);\n\nif (!fullScreenEnabled) {\n  fullScreen.disabled = true;\n}\n\n// checks if the browser is already in fullscreen mode\nvar isFullScreen = function () {\n  return !!(document.fullScreen || document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement || document.fullscreenElement);\n};\n\n// sets the value of a data-fullscreen attribute on the videoContainer (this makes use of data-states).\nvar setFullscreenData = function (state) {\n  video.setAttribute('data-fullscreen', !!state);\n};\n\n// Fullscreen for various browsers\nvar handleFullscreen = function () {\n  if (isFullScreen()) {\n    if (document.exitFullscreen) document.exitFullscreen();\n    else if (document.mozCancelFullScreen) document.mozCancelFullScreen();\n    else if (document.webkitCancelFullScreen) document.webkitCancelFullScreen();\n    else if (document.msExitFullscreen) document.msExitFullscreen();\n    setFullscreenData(false);\n  } else {\n    if (video.requestFullscreen) video.requestFullscreen();\n    else if (video.mozRequestFullScreen) video.mozRequestFullScreen();\n    else if (video.webkitRequestFullScreen) video.webkitRequestFullScreen();\n    else if (video.msRequestFullscreen) video.msRequestFullscreen();\n    setFullscreenData(true);\n  }\n};\n\n// Make attributes values first letter uppercase\nvar upperCaseFirst = function (str) {\n  return str.charAt(0).toUpperCase() + str.substring(1);\n};\n\n// Wait for the DOM to be loaded before initialising the media player\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  'use strict';\n  initialisevideo();\n}, false);\n"]}